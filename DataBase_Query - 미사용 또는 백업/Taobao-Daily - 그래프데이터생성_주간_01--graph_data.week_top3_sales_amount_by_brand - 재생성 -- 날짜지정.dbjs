//----------------------------------------------------------------------------------------------------;

//	DEFINE;

//----------------------------------------------------------------------------------------------------;

var start = new Date();
// 매주 월요일 새벽 에 동작

var dateWeekinfo = {"2018":{"201801":{"year":2018,"month":1,"week":1,"days":["20180101","20180102","20180103","20180104","20180105","20180106","20180107"],"start":"20180101","end":"20180107"},"201802":{"year":2018,"month":1,"week":2,"days":["20180108","20180109","20180110","20180111","20180112","20180113","20180114"],"start":"20180108","end":"20180114"},"201803":{"year":2018,"month":1,"week":3,"days":["20180115","20180116","20180117","20180118","20180119","20180120","20180121"],"start":"20180115","end":"20180121"},"201804":{"year":2018,"month":1,"week":4,"days":["20180122","20180123","20180124","20180125","20180126","20180127","20180128"],"start":"20180122","end":"20180128"},"201805":{"year":2018,"month":1,"week":5,"days":["20180129","20180130","20180131","20180201","20180202","20180203","20180204"],"start":"20180129","end":"20180204"},"201806":{"year":2018,"month":2,"week":6,"days":["20180205","20180206","20180207","20180208","20180209","20180210","20180211"],"start":"20180205","end":"20180211"},"201807":{"year":2018,"month":2,"week":7,"days":["20180212","20180213","20180214","20180215","20180216","20180217","20180218"],"start":"20180212","end":"20180218"},"201808":{"year":2018,"month":2,"week":8,"days":["20180219","20180220","20180221","20180222","20180223","20180224","20180225"],"start":"20180219","end":"20180225"},"201809":{"year":2018,"month":2,"week":9,"days":["20180226","20180227","20180228","20180301","20180302","20180303","20180304"],"start":"20180226","end":"20180304"},"201810":{"year":2018,"month":3,"week":10,"days":["20180305","20180306","20180307","20180308","20180309","20180310","20180311"],"start":"20180305","end":"20180311"},"201811":{"year":2018,"month":3,"week":11,"days":["20180312","20180313","20180314","20180315","20180316","20180317","20180318"],"start":"20180312","end":"20180318"},"201812":{"year":2018,"month":3,"week":12,"days":["20180319","20180320","20180321","20180322","20180323","20180324","20180325"],"start":"20180319","end":"20180325"},"201813":{"year":2018,"month":3,"week":13,"days":["20180326","20180327","20180328","20180329","20180330","20180331","20180401"],"start":"20180326","end":"20180401"},"201814":{"year":2018,"month":4,"week":14,"days":["20180402","20180403","20180404","20180405","20180406","20180407","20180408"],"start":"20180402","end":"20180408"},"201815":{"year":2018,"month":4,"week":15,"days":["20180409","20180410","20180411","20180412","20180413","20180414","20180415"],"start":"20180409","end":"20180415"},"201816":{"year":2018,"month":4,"week":16,"days":["20180416","20180417","20180418","20180419","20180420","20180421","20180422"],"start":"20180416","end":"20180422"},"201817":{"year":2018,"month":4,"week":17,"days":["20180423","20180424","20180425","20180426","20180427","20180428","20180429"],"start":"20180423","end":"20180429"},"201818":{"year":2018,"month":4,"week":18,"days":["20180430","20180501","20180502","20180503","20180504","20180505","20180506"],"start":"20180430","end":"20180506"},"201819":{"year":2018,"month":5,"week":19,"days":["20180507","20180508","20180509","20180510","20180511","20180512","20180513"],"start":"20180507","end":"20180513"},"201820":{"year":2018,"month":5,"week":20,"days":["20180514","20180515","20180516","20180517","20180518","20180519","20180520"],"start":"20180514","end":"20180520"},"201821":{"year":2018,"month":5,"week":21,"days":["20180521","20180522","20180523","20180524","20180525","20180526","20180527"],"start":"20180521","end":"20180527"},"201822":{"year":2018,"month":5,"week":22,"days":["20180528","20180529","20180530","20180531","20180601","20180602","20180603"],"start":"20180528","end":"20180603"},"201823":{"year":2018,"month":6,"week":23,"days":["20180604","20180605","20180606","20180607","20180608","20180609","20180610"],"start":"20180604","end":"20180610"},"201824":{"year":2018,"month":6,"week":24,"days":["20180611","20180612","20180613","20180614","20180615","20180616","20180617"],"start":"20180611","end":"20180617"},"201825":{"year":2018,"month":6,"week":25,"days":["20180618","20180619","20180620","20180621","20180622","20180623","20180624"],"start":"20180618","end":"20180624"},"201826":{"year":2018,"month":6,"week":26,"days":["20180625","20180626","20180627","20180628","20180629","20180630","20180701"],"start":"20180625","end":"20180701"},"201827":{"year":2018,"month":7,"week":27,"days":["20180702","20180703","20180704","20180705","20180706","20180707","20180708"],"start":"20180702","end":"20180708"},"201828":{"year":2018,"month":7,"week":28,"days":["20180709","20180710","20180711","20180712","20180713","20180714","20180715"],"start":"20180709","end":"20180715"},"201829":{"year":2018,"month":7,"week":29,"days":["20180716","20180717","20180718","20180719","20180720","20180721","20180722"],"start":"20180716","end":"20180722"},"201830":{"year":2018,"month":7,"week":30,"days":["20180723","20180724","20180725","20180726","20180727","20180728","20180729"],"start":"20180723","end":"20180729"},"201831":{"year":2018,"month":7,"week":31,"days":["20180730","20180731","20180801","20180802","20180803","20180804","20180805"],"start":"20180730","end":"20180805"},"201832":{"year":2018,"month":8,"week":32,"days":["20180806","20180807","20180808","20180809","20180810","20180811","20180812"],"start":"20180806","end":"20180812"},"201833":{"year":2018,"month":8,"week":33,"days":["20180813","20180814","20180815","20180816","20180817","20180818","20180819"],"start":"20180813","end":"20180819"},"201834":{"year":2018,"month":8,"week":34,"days":["20180820","20180821","20180822","20180823","20180824","20180825","20180826"],"start":"20180820","end":"20180826"},"201835":{"year":2018,"month":8,"week":35,"days":["20180827","20180828","20180829","20180830","20180831","20180901","20180902"],"start":"20180827","end":"20180902"},"201836":{"year":2018,"month":9,"week":36,"days":["20180903","20180904","20180905","20180906","20180907","20180908","20180909"],"start":"20180903","end":"20180909"},"201837":{"year":2018,"month":9,"week":37,"days":["20180910","20180911","20180912","20180913","20180914","20180915","20180916"],"start":"20180910","end":"20180916"},"201838":{"year":2018,"month":9,"week":38,"days":["20180917","20180918","20180919","20180920","20180921","20180922","20180923"],"start":"20180917","end":"20180923"},"201839":{"year":2018,"month":9,"week":39,"days":["20180924","20180925","20180926","20180927","20180928","20180929","20180930"],"start":"20180924","end":"20180930"},"201840":{"year":2018,"month":10,"week":40,"days":["20181001","20181002","20181003","20181004","20181005","20181006","20181007"],"start":"20181001","end":"20181007"},"201841":{"year":2018,"month":10,"week":41,"days":["20181008","20181009","20181010","20181011","20181012","20181013","20181014"],"start":"20181008","end":"20181014"},"201842":{"year":2018,"month":10,"week":42,"days":["20181015","20181016","20181017","20181018","20181019","20181020","20181021"],"start":"20181015","end":"20181021"},"201843":{"year":2018,"month":10,"week":43,"days":["20181022","20181023","20181024","20181025","20181026","20181027","20181028"],"start":"20181022","end":"20181028"},"201844":{"year":2018,"month":10,"week":44,"days":["20181029","20181030","20181031","20181101","20181102","20181103","20181104"],"start":"20181029","end":"20181104"},"201845":{"year":2018,"month":11,"week":45,"days":["20181105","20181106","20181107","20181108","20181109","20181110","20181111"],"start":"20181105","end":"20181111"},"201846":{"year":2018,"month":11,"week":46,"days":["20181112","20181113","20181114","20181115","20181116","20181117","20181118"],"start":"20181112","end":"20181118"},"201847":{"year":2018,"month":11,"week":47,"days":["20181119","20181120","20181121","20181122","20181123","20181124","20181125"],"start":"20181119","end":"20181125"},"201848":{"year":2018,"month":11,"week":48,"days":["20181126","20181127","20181128","20181129","20181130","20181201","20181202"],"start":"20181126","end":"20181202"},"201849":{"year":2018,"month":12,"week":49,"days":["20181203","20181204","20181205","20181206","20181207","20181208","20181209"],"start":"20181203","end":"20181209"},"201850":{"year":2018,"month":12,"week":50,"days":["20181210","20181211","20181212","20181213","20181214","20181215","20181216"],"start":"20181210","end":"20181216"},"201851":{"year":2018,"month":12,"week":51,"days":["20181217","20181218","20181219","20181220","20181221","20181222","20181223"],"start":"20181217","end":"20181223"},"201852":{"year":2018,"month":12,"week":52,"days":["20181224","20181225","20181226","20181227","20181228","20181229","20181230"],"start":"20181224","end":"20181230"},"201853":{"year":2018,"month":12,"week":53,"days":["20181231","20190101","20190102","20190103","20190104","20190105","20190106"],"start":"20181231","end":"20190106"}},"2019":{"201902":{"year":2019,"month":1,"week":2,"days":["20190107","20190108","20190109","20190110","20190111","20190112","20190113"],"start":"20190107","end":"20190113"},"201903":{"year":2019,"month":1,"week":3,"days":["20190114","20190115","20190116","20190117","20190118","20190119","20190120"],"start":"20190114","end":"20190120"},"201904":{"year":2019,"month":1,"week":4,"days":["20190121","20190122","20190123","20190124","20190125","20190126","20190127"],"start":"20190121","end":"20190127"},"201905":{"year":2019,"month":1,"week":5,"days":["20190128","20190129","20190130","20190131","20190201","20190202","20190203"],"start":"20190128","end":"20190203"},"201906":{"year":2019,"month":2,"week":6,"days":["20190204","20190205","20190206","20190207","20190208","20190209","20190210"],"start":"20190204","end":"20190210"},"201907":{"year":2019,"month":2,"week":7,"days":["20190211","20190212","20190213","20190214","20190215","20190216","20190217"],"start":"20190211","end":"20190217"},"201908":{"year":2019,"month":2,"week":8,"days":["20190218","20190219","20190220","20190221","20190222","20190223","20190224"],"start":"20190218","end":"20190224"},"201909":{"year":2019,"month":2,"week":9,"days":["20190225","20190226","20190227","20190228","20190301","20190302","20190303"],"start":"20190225","end":"20190303"},"201910":{"year":2019,"month":3,"week":10,"days":["20190304","20190305","20190306","20190307","20190308","20190309","20190310"],"start":"20190304","end":"20190310"},"201911":{"year":2019,"month":3,"week":11,"days":["20190311","20190312","20190313","20190314","20190315","20190316","20190317"],"start":"20190311","end":"20190317"},"201912":{"year":2019,"month":3,"week":12,"days":["20190318","20190319","20190320","20190321","20190322","20190323","20190324"],"start":"20190318","end":"20190324"},"201913":{"year":2019,"month":3,"week":13,"days":["20190325","20190326","20190327","20190328","20190329","20190330","20190331"],"start":"20190325","end":"20190331"},"201914":{"year":2019,"month":4,"week":14,"days":["20190401","20190402","20190403","20190404","20190405","20190406","20190407"],"start":"20190401","end":"20190407"},"201915":{"year":2019,"month":4,"week":15,"days":["20190408","20190409","20190410","20190411","20190412","20190413","20190414"],"start":"20190408","end":"20190414"},"201916":{"year":2019,"month":4,"week":16,"days":["20190415","20190416","20190417","20190418","20190419","20190420","20190421"],"start":"20190415","end":"20190421"},"201917":{"year":2019,"month":4,"week":17,"days":["20190422","20190423","20190424","20190425","20190426","20190427","20190428"],"start":"20190422","end":"20190428"},"201918":{"year":2019,"month":4,"week":18,"days":["20190429","20190430","20190501","20190502","20190503","20190504","20190505"],"start":"20190429","end":"20190505"},"201919":{"year":2019,"month":5,"week":19,"days":["20190506","20190507","20190508","20190509","20190510","20190511","20190512"],"start":"20190506","end":"20190512"},"201920":{"year":2019,"month":5,"week":20,"days":["20190513","20190514","20190515","20190516","20190517","20190518","20190519"],"start":"20190513","end":"20190519"},"201921":{"year":2019,"month":5,"week":21,"days":["20190520","20190521","20190522","20190523","20190524","20190525","20190526"],"start":"20190520","end":"20190526"},"201922":{"year":2019,"month":5,"week":22,"days":["20190527","20190528","20190529","20190530","20190531","20190601","20190602"],"start":"20190527","end":"20190602"},"201923":{"year":2019,"month":6,"week":23,"days":["20190603","20190604","20190605","20190606","20190607","20190608","20190609"],"start":"20190603","end":"20190609"},"201924":{"year":2019,"month":6,"week":24,"days":["20190610","20190611","20190612","20190613","20190614","20190615","20190616"],"start":"20190610","end":"20190616"},"201925":{"year":2019,"month":6,"week":25,"days":["20190617","20190618","20190619","20190620","20190621","20190622","20190623"],"start":"20190617","end":"20190623"},"201926":{"year":2019,"month":6,"week":26,"days":["20190624","20190625","20190626","20190627","20190628","20190629","20190630"],"start":"20190624","end":"20190630"},"201927":{"year":2019,"month":7,"week":27,"days":["20190701","20190702","20190703","20190704","20190705","20190706","20190707"],"start":"20190701","end":"20190707"},"201928":{"year":2019,"month":7,"week":28,"days":["20190708","20190709","20190710","20190711","20190712","20190713","20190714"],"start":"20190708","end":"20190714"},"201929":{"year":2019,"month":7,"week":29,"days":["20190715","20190716","20190717","20190718","20190719","20190720","20190721"],"start":"20190715","end":"20190721"},"201930":{"year":2019,"month":7,"week":30,"days":["20190722","20190723","20190724","20190725","20190726","20190727","20190728"],"start":"20190722","end":"20190728"},"201931":{"year":2019,"month":7,"week":31,"days":["20190729","20190730","20190731","20190801","20190802","20190803","20190804"],"start":"20190729","end":"20190804"},"201932":{"year":2019,"month":8,"week":32,"days":["20190805","20190806","20190807","20190808","20190809","20190810","20190811"],"start":"20190805","end":"20190811"},"201933":{"year":2019,"month":8,"week":33,"days":["20190812","20190813","20190814","20190815","20190816","20190817","20190818"],"start":"20190812","end":"20190818"},"201934":{"year":2019,"month":8,"week":34,"days":["20190819","20190820","20190821","20190822","20190823","20190824","20190825"],"start":"20190819","end":"20190825"},"201935":{"year":2019,"month":8,"week":35,"days":["20190826","20190827","20190828","20190829","20190830","20190831","20190901"],"start":"20190826","end":"20190901"},"201936":{"year":2019,"month":9,"week":36,"days":["20190902","20190903","20190904","20190905","20190906","20190907","20190908"],"start":"20190902","end":"20190908"},"201937":{"year":2019,"month":9,"week":37,"days":["20190909","20190910","20190911","20190912","20190913","20190914","20190915"],"start":"20190909","end":"20190915"},"201938":{"year":2019,"month":9,"week":38,"days":["20190916","20190917","20190918","20190919","20190920","20190921","20190922"],"start":"20190916","end":"20190922"},"201939":{"year":2019,"month":9,"week":39,"days":["20190923","20190924","20190925","20190926","20190927","20190928","20190929"],"start":"20190923","end":"20190929"},"201940":{"year":2019,"month":9,"week":40,"days":["20190930","20191001","20191002","20191003","20191004","20191005","20191006"],"start":"20190930","end":"20191006"},"201941":{"year":2019,"month":10,"week":41,"days":["20191007","20191008","20191009","20191010","20191011","20191012","20191013"],"start":"20191007","end":"20191013"},"201942":{"year":2019,"month":10,"week":42,"days":["20191014","20191015","20191016","20191017","20191018","20191019","20191020"],"start":"20191014","end":"20191020"},"201943":{"year":2019,"month":10,"week":43,"days":["20191021","20191022","20191023","20191024","20191025","20191026","20191027"],"start":"20191021","end":"20191027"},"201944":{"year":2019,"month":10,"week":44,"days":["20191028","20191029","20191030","20191031","20191101","20191102","20191103"],"start":"20191028","end":"20191103"},"201945":{"year":2019,"month":11,"week":45,"days":["20191104","20191105","20191106","20191107","20191108","20191109","20191110"],"start":"20191104","end":"20191110"},"201946":{"year":2019,"month":11,"week":46,"days":["20191111","20191112","20191113","20191114","20191115","20191116","20191117"],"start":"20191111","end":"20191117"},"201947":{"year":2019,"month":11,"week":47,"days":["20191118","20191119","20191120","20191121","20191122","20191123","20191124"],"start":"20191118","end":"20191124"},"201948":{"year":2019,"month":11,"week":48,"days":["20191125","20191126","20191127","20191128","20191129","20191130","20191201"],"start":"20191125","end":"20191201"},"201949":{"year":2019,"month":12,"week":49,"days":["20191202","20191203","20191204","20191205","20191206","20191207","20191208"],"start":"20191202","end":"20191208"},"201950":{"year":2019,"month":12,"week":50,"days":["20191209","20191210","20191211","20191212","20191213","20191214","20191215"],"start":"20191209","end":"20191215"},"201951":{"year":2019,"month":12,"week":51,"days":["20191216","20191217","20191218","20191219","20191220","20191221","20191222"],"start":"20191216","end":"20191222"},"201952":{"year":2019,"month":12,"week":52,"days":["20191223","20191224","20191225","20191226","20191227","20191228","20191229"],"start":"20191223","end":"20191229"},"201953":{"year":2019,"month":12,"week":53,"days":["20191230","20191231","20200101","20200102","20200103","20200104","20200105"],"start":"20191230","end":"20200105"}},"2020":{"202002":{"year":2020,"month":1,"week":2,"days":["20200106","20200107","20200108","20200109","20200110","20200111","20200112"],"start":"20200106","end":"20200112"},"202003":{"year":2020,"month":1,"week":3,"days":["20200113","20200114","20200115","20200116","20200117","20200118","20200119"],"start":"20200113","end":"20200119"},"202004":{"year":2020,"month":1,"week":4,"days":["20200120","20200121","20200122","20200123","20200124","20200125","20200126"],"start":"20200120","end":"20200126"},"202005":{"year":2020,"month":1,"week":5,"days":["20200127","20200128","20200129","20200130","20200131","20200201","20200202"],"start":"20200127","end":"20200202"},"202006":{"year":2020,"month":2,"week":6,"days":["20200203","20200204","20200205","20200206","20200207","20200208","20200209"],"start":"20200203","end":"20200209"},"202007":{"year":2020,"month":2,"week":7,"days":["20200210","20200211","20200212","20200213","20200214","20200215","20200216"],"start":"20200210","end":"20200216"},"202008":{"year":2020,"month":2,"week":8,"days":["20200217","20200218","20200219","20200220","20200221","20200222","20200223"],"start":"20200217","end":"20200223"},"202009":{"year":2020,"month":2,"week":9,"days":["20200224","20200225","20200226","20200227","20200228","20200229","20200301"],"start":"20200224","end":"20200301"},"202010":{"year":2020,"month":3,"week":10,"days":["20200302","20200303","20200304","20200305","20200306","20200307","20200308"],"start":"20200302","end":"20200308"},"202011":{"year":2020,"month":3,"week":11,"days":["20200309","20200310","20200311","20200312","20200313","20200314","20200315"],"start":"20200309","end":"20200315"},"202012":{"year":2020,"month":3,"week":12,"days":["20200316","20200317","20200318","20200319","20200320","20200321","20200322"],"start":"20200316","end":"20200322"},"202013":{"year":2020,"month":3,"week":13,"days":["20200323","20200324","20200325","20200326","20200327","20200328","20200329"],"start":"20200323","end":"20200329"},"202014":{"year":2020,"month":3,"week":14,"days":["20200330","20200331","20200401","20200402","20200403","20200404","20200405"],"start":"20200330","end":"20200405"},"202015":{"year":2020,"month":4,"week":15,"days":["20200406","20200407","20200408","20200409","20200410","20200411","20200412"],"start":"20200406","end":"20200412"},"202016":{"year":2020,"month":4,"week":16,"days":["20200413","20200414","20200415","20200416","20200417","20200418","20200419"],"start":"20200413","end":"20200419"},"202017":{"year":2020,"month":4,"week":17,"days":["20200420","20200421","20200422","20200423","20200424","20200425","20200426"],"start":"20200420","end":"20200426"},"202018":{"year":2020,"month":4,"week":18,"days":["20200427","20200428","20200429","20200430","20200501","20200502","20200503"],"start":"20200427","end":"20200503"},"202019":{"year":2020,"month":5,"week":19,"days":["20200504","20200505","20200506","20200507","20200508","20200509","20200510"],"start":"20200504","end":"20200510"},"202020":{"year":2020,"month":5,"week":20,"days":["20200511","20200512","20200513","20200514","20200515","20200516","20200517"],"start":"20200511","end":"20200517"},"202021":{"year":2020,"month":5,"week":21,"days":["20200518","20200519","20200520","20200521","20200522","20200523","20200524"],"start":"20200518","end":"20200524"},"202022":{"year":2020,"month":5,"week":22,"days":["20200525","20200526","20200527","20200528","20200529","20200530","20200531"],"start":"20200525","end":"20200531"},"202023":{"year":2020,"month":6,"week":23,"days":["20200601","20200602","20200603","20200604","20200605","20200606","20200607"],"start":"20200601","end":"20200607"},"202024":{"year":2020,"month":6,"week":24,"days":["20200608","20200609","20200610","20200611","20200612","20200613","20200614"],"start":"20200608","end":"20200614"},"202025":{"year":2020,"month":6,"week":25,"days":["20200615","20200616","20200617","20200618","20200619","20200620","20200621"],"start":"20200615","end":"20200621"},"202026":{"year":2020,"month":6,"week":26,"days":["20200622","20200623","20200624","20200625","20200626","20200627","20200628"],"start":"20200622","end":"20200628"},"202027":{"year":2020,"month":6,"week":27,"days":["20200629","20200630","20200701","20200702","20200703","20200704","20200705"],"start":"20200629","end":"20200705"},"202028":{"year":2020,"month":7,"week":28,"days":["20200706","20200707","20200708","20200709","20200710","20200711","20200712"],"start":"20200706","end":"20200712"},"202029":{"year":2020,"month":7,"week":29,"days":["20200713","20200714","20200715","20200716","20200717","20200718","20200719"],"start":"20200713","end":"20200719"},"202030":{"year":2020,"month":7,"week":30,"days":["20200720","20200721","20200722","20200723","20200724","20200725","20200726"],"start":"20200720","end":"20200726"},"202031":{"year":2020,"month":7,"week":31,"days":["20200727","20200728","20200729","20200730","20200731","20200801","20200802"],"start":"20200727","end":"20200802"},"202032":{"year":2020,"month":8,"week":32,"days":["20200803","20200804","20200805","20200806","20200807","20200808","20200809"],"start":"20200803","end":"20200809"},"202033":{"year":2020,"month":8,"week":33,"days":["20200810","20200811","20200812","20200813","20200814","20200815","20200816"],"start":"20200810","end":"20200816"},"202034":{"year":2020,"month":8,"week":34,"days":["20200817","20200818","20200819","20200820","20200821","20200822","20200823"],"start":"20200817","end":"20200823"},"202035":{"year":2020,"month":8,"week":35,"days":["20200824","20200825","20200826","20200827","20200828","20200829","20200830"],"start":"20200824","end":"20200830"},"202036":{"year":2020,"month":8,"week":36,"days":["20200831","20200901","20200902","20200903","20200904","20200905","20200906"],"start":"20200831","end":"20200906"},"202037":{"year":2020,"month":9,"week":37,"days":["20200907","20200908","20200909","20200910","20200911","20200912","20200913"],"start":"20200907","end":"20200913"},"202038":{"year":2020,"month":9,"week":38,"days":["20200914","20200915","20200916","20200917","20200918","20200919","20200920"],"start":"20200914","end":"20200920"},"202039":{"year":2020,"month":9,"week":39,"days":["20200921","20200922","20200923","20200924","20200925","20200926","20200927"],"start":"20200921","end":"20200927"},"202040":{"year":2020,"month":9,"week":40,"days":["20200928","20200929","20200930","20201001","20201002","20201003","20201004"],"start":"20200928","end":"20201004"},"202041":{"year":2020,"month":10,"week":41,"days":["20201005","20201006","20201007","20201008","20201009","20201010","20201011"],"start":"20201005","end":"20201011"},"202042":{"year":2020,"month":10,"week":42,"days":["20201012","20201013","20201014","20201015","20201016","20201017","20201018"],"start":"20201012","end":"20201018"},"202043":{"year":2020,"month":10,"week":43,"days":["20201019","20201020","20201021","20201022","20201023","20201024","20201025"],"start":"20201019","end":"20201025"},"202044":{"year":2020,"month":10,"week":44,"days":["20201026","20201027","20201028","20201029","20201030","20201031","20201101"],"start":"20201026","end":"20201101"},"202045":{"year":2020,"month":11,"week":45,"days":["20201102","20201103","20201104","20201105","20201106","20201107","20201108"],"start":"20201102","end":"20201108"},"202046":{"year":2020,"month":11,"week":46,"days":["20201109","20201110","20201111","20201112","20201113","20201114","20201115"],"start":"20201109","end":"20201115"},"202047":{"year":2020,"month":11,"week":47,"days":["20201116","20201117","20201118","20201119","20201120","20201121","20201122"],"start":"20201116","end":"20201122"},"202048":{"year":2020,"month":11,"week":48,"days":["20201123","20201124","20201125","20201126","20201127","20201128","20201129"],"start":"20201123","end":"20201129"},"202049":{"year":2020,"month":11,"week":49,"days":["20201130","20201201","20201202","20201203","20201204","20201205","20201206"],"start":"20201130","end":"20201206"},"202050":{"year":2020,"month":12,"week":50,"days":["20201207","20201208","20201209","20201210","20201211","20201212","20201213"],"start":"20201207","end":"20201213"},"202051":{"year":2020,"month":12,"week":51,"days":["20201214","20201215","20201216","20201217","20201218","20201219","20201220"],"start":"20201214","end":"20201220"},"202052":{"year":2020,"month":12,"week":52,"days":["20201221","20201222","20201223","20201224","20201225","20201226","20201227"],"start":"20201221","end":"20201227"},"202053":{"year":2020,"month":12,"week":53,"days":["20201228","20201229","20201230","20201231","20210101","20210102","20210103"],"start":"20201228","end":"20210103"}},"2021":{"202102":{"year":2021,"month":1,"week":2,"days":["20210104","20210105","20210106","20210107","20210108","20210109","20210110"],"start":"20210104","end":"20210110"},"202103":{"year":2021,"month":1,"week":3,"days":["20210111","20210112","20210113","20210114","20210115","20210116","20210117"],"start":"20210111","end":"20210117"},"202104":{"year":2021,"month":1,"week":4,"days":["20210118","20210119","20210120","20210121","20210122","20210123","20210124"],"start":"20210118","end":"20210124"},"202105":{"year":2021,"month":1,"week":5,"days":["20210125","20210126","20210127","20210128","20210129","20210130","20210131"],"start":"20210125","end":"20210131"},"202106":{"year":2021,"month":2,"week":6,"days":["20210201","20210202","20210203","20210204","20210205","20210206","20210207"],"start":"20210201","end":"20210207"},"202107":{"year":2021,"month":2,"week":7,"days":["20210208","20210209","20210210","20210211","20210212","20210213","20210214"],"start":"20210208","end":"20210214"},"202108":{"year":2021,"month":2,"week":8,"days":["20210215","20210216","20210217","20210218","20210219","20210220","20210221"],"start":"20210215","end":"20210221"},"202109":{"year":2021,"month":2,"week":9,"days":["20210222","20210223","20210224","20210225","20210226","20210227","20210228"],"start":"20210222","end":"20210228"},"202110":{"year":2021,"month":3,"week":10,"days":["20210301","20210302","20210303","20210304","20210305","20210306","20210307"],"start":"20210301","end":"20210307"},"202111":{"year":2021,"month":3,"week":11,"days":["20210308","20210309","20210310","20210311","20210312","20210313","20210314"],"start":"20210308","end":"20210314"},"202112":{"year":2021,"month":3,"week":12,"days":["20210315","20210316","20210317","20210318","20210319","20210320","20210321"],"start":"20210315","end":"20210321"},"202113":{"year":2021,"month":3,"week":13,"days":["20210322","20210323","20210324","20210325","20210326","20210327","20210328"],"start":"20210322","end":"20210328"},"202114":{"year":2021,"month":3,"week":14,"days":["20210329","20210330","20210331","20210401","20210402","20210403","20210404"],"start":"20210329","end":"20210404"},"202115":{"year":2021,"month":4,"week":15,"days":["20210405","20210406","20210407","20210408","20210409","20210410","20210411"],"start":"20210405","end":"20210411"},"202116":{"year":2021,"month":4,"week":16,"days":["20210412","20210413","20210414","20210415","20210416","20210417","20210418"],"start":"20210412","end":"20210418"},"202117":{"year":2021,"month":4,"week":17,"days":["20210419","20210420","20210421","20210422","20210423","20210424","20210425"],"start":"20210419","end":"20210425"},"202118":{"year":2021,"month":4,"week":18,"days":["20210426","20210427","20210428","20210429","20210430","20210501","20210502"],"start":"20210426","end":"20210502"},"202119":{"year":2021,"month":5,"week":19,"days":["20210503","20210504","20210505","20210506","20210507","20210508","20210509"],"start":"20210503","end":"20210509"},"202120":{"year":2021,"month":5,"week":20,"days":["20210510","20210511","20210512","20210513","20210514","20210515","20210516"],"start":"20210510","end":"20210516"},"202121":{"year":2021,"month":5,"week":21,"days":["20210517","20210518","20210519","20210520","20210521","20210522","20210523"],"start":"20210517","end":"20210523"},"202122":{"year":2021,"month":5,"week":22,"days":["20210524","20210525","20210526","20210527","20210528","20210529","20210530"],"start":"20210524","end":"20210530"},"202123":{"year":2021,"month":5,"week":23,"days":["20210531","20210601","20210602","20210603","20210604","20210605","20210606"],"start":"20210531","end":"20210606"},"202124":{"year":2021,"month":6,"week":24,"days":["20210607","20210608","20210609","20210610","20210611","20210612","20210613"],"start":"20210607","end":"20210613"},"202125":{"year":2021,"month":6,"week":25,"days":["20210614","20210615","20210616","20210617","20210618","20210619","20210620"],"start":"20210614","end":"20210620"},"202126":{"year":2021,"month":6,"week":26,"days":["20210621","20210622","20210623","20210624","20210625","20210626","20210627"],"start":"20210621","end":"20210627"},"202127":{"year":2021,"month":6,"week":27,"days":["20210628","20210629","20210630","20210701","20210702","20210703","20210704"],"start":"20210628","end":"20210704"},"202128":{"year":2021,"month":7,"week":28,"days":["20210705","20210706","20210707","20210708","20210709","20210710","20210711"],"start":"20210705","end":"20210711"},"202129":{"year":2021,"month":7,"week":29,"days":["20210712","20210713","20210714","20210715","20210716","20210717","20210718"],"start":"20210712","end":"20210718"},"202130":{"year":2021,"month":7,"week":30,"days":["20210719","20210720","20210721","20210722","20210723","20210724","20210725"],"start":"20210719","end":"20210725"},"202131":{"year":2021,"month":7,"week":31,"days":["20210726","20210727","20210728","20210729","20210730","20210731","20210801"],"start":"20210726","end":"20210801"},"202132":{"year":2021,"month":8,"week":32,"days":["20210802","20210803","20210804","20210805","20210806","20210807","20210808"],"start":"20210802","end":"20210808"},"202133":{"year":2021,"month":8,"week":33,"days":["20210809","20210810","20210811","20210812","20210813","20210814","20210815"],"start":"20210809","end":"20210815"},"202134":{"year":2021,"month":8,"week":34,"days":["20210816","20210817","20210818","20210819","20210820","20210821","20210822"],"start":"20210816","end":"20210822"},"202135":{"year":2021,"month":8,"week":35,"days":["20210823","20210824","20210825","20210826","20210827","20210828","20210829"],"start":"20210823","end":"20210829"},"202136":{"year":2021,"month":8,"week":36,"days":["20210830","20210831","20210901","20210902","20210903","20210904","20210905"],"start":"20210830","end":"20210905"},"202137":{"year":2021,"month":9,"week":37,"days":["20210906","20210907","20210908","20210909","20210910","20210911","20210912"],"start":"20210906","end":"20210912"},"202138":{"year":2021,"month":9,"week":38,"days":["20210913","20210914","20210915","20210916","20210917","20210918","20210919"],"start":"20210913","end":"20210919"},"202139":{"year":2021,"month":9,"week":39,"days":["20210920","20210921","20210922","20210923","20210924","20210925","20210926"],"start":"20210920","end":"20210926"},"202140":{"year":2021,"month":9,"week":40,"days":["20210927","20210928","20210929","20210930","20211001","20211002","20211003"],"start":"20210927","end":"20211003"},"202141":{"year":2021,"month":10,"week":41,"days":["20211004","20211005","20211006","20211007","20211008","20211009","20211010"],"start":"20211004","end":"20211010"},"202142":{"year":2021,"month":10,"week":42,"days":["20211011","20211012","20211013","20211014","20211015","20211016","20211017"],"start":"20211011","end":"20211017"},"202143":{"year":2021,"month":10,"week":43,"days":["20211018","20211019","20211020","20211021","20211022","20211023","20211024"],"start":"20211018","end":"20211024"},"202144":{"year":2021,"month":10,"week":44,"days":["20211025","20211026","20211027","20211028","20211029","20211030","20211031"],"start":"20211025","end":"20211031"},"202145":{"year":2021,"month":11,"week":45,"days":["20211101","20211102","20211103","20211104","20211105","20211106","20211107"],"start":"20211101","end":"20211107"},"202146":{"year":2021,"month":11,"week":46,"days":["20211108","20211109","20211110","20211111","20211112","20211113","20211114"],"start":"20211108","end":"20211114"},"202147":{"year":2021,"month":11,"week":47,"days":["20211115","20211116","20211117","20211118","20211119","20211120","20211121"],"start":"20211115","end":"20211121"},"202148":{"year":2021,"month":11,"week":48,"days":["20211122","20211123","20211124","20211125","20211126","20211127","20211128"],"start":"20211122","end":"20211128"},"202149":{"year":2021,"month":11,"week":49,"days":["20211129","20211130","20211201","20211202","20211203","20211204","20211205"],"start":"20211129","end":"20211205"},"202150":{"year":2021,"month":12,"week":50,"days":["20211206","20211207","20211208","20211209","20211210","20211211","20211212"],"start":"20211206","end":"20211212"},"202151":{"year":2021,"month":12,"week":51,"days":["20211213","20211214","20211215","20211216","20211217","20211218","20211219"],"start":"20211213","end":"20211219"},"202152":{"year":2021,"month":12,"week":52,"days":["20211220","20211221","20211222","20211223","20211224","20211225","20211226"],"start":"20211220","end":"20211226"},"202153":{"year":2021,"month":12,"week":53,"days":["20211227","20211228","20211229","20211230","20211231","20220101","20220102"],"start":"20211227","end":"20220102"}},"2022":{"202202":{"year":2022,"month":1,"week":2,"days":["20220103","20220104","20220105","20220106","20220107","20220108","20220109"],"start":"20220103","end":"20220109"},"202203":{"year":2022,"month":1,"week":3,"days":["20220110","20220111","20220112","20220113","20220114","20220115","20220116"],"start":"20220110","end":"20220116"},"202204":{"year":2022,"month":1,"week":4,"days":["20220117","20220118","20220119","20220120","20220121","20220122","20220123"],"start":"20220117","end":"20220123"},"202205":{"year":2022,"month":1,"week":5,"days":["20220124","20220125","20220126","20220127","20220128","20220129","20220130"],"start":"20220124","end":"20220130"},"202206":{"year":2022,"month":1,"week":6,"days":["20220131","20220201","20220202","20220203","20220204","20220205","20220206"],"start":"20220131","end":"20220206"},"202207":{"year":2022,"month":2,"week":7,"days":["20220207","20220208","20220209","20220210","20220211","20220212","20220213"],"start":"20220207","end":"20220213"},"202208":{"year":2022,"month":2,"week":8,"days":["20220214","20220215","20220216","20220217","20220218","20220219","20220220"],"start":"20220214","end":"20220220"},"202209":{"year":2022,"month":2,"week":9,"days":["20220221","20220222","20220223","20220224","20220225","20220226","20220227"],"start":"20220221","end":"20220227"},"202210":{"year":2022,"month":2,"week":10,"days":["20220228","20220301","20220302","20220303","20220304","20220305","20220306"],"start":"20220228","end":"20220306"},"202211":{"year":2022,"month":3,"week":11,"days":["20220307","20220308","20220309","20220310","20220311","20220312","20220313"],"start":"20220307","end":"20220313"},"202212":{"year":2022,"month":3,"week":12,"days":["20220314","20220315","20220316","20220317","20220318","20220319","20220320"],"start":"20220314","end":"20220320"},"202213":{"year":2022,"month":3,"week":13,"days":["20220321","20220322","20220323","20220324","20220325","20220326","20220327"],"start":"20220321","end":"20220327"},"202214":{"year":2022,"month":3,"week":14,"days":["20220328","20220329","20220330","20220331","20220401","20220402","20220403"],"start":"20220328","end":"20220403"},"202215":{"year":2022,"month":4,"week":15,"days":["20220404","20220405","20220406","20220407","20220408","20220409","20220410"],"start":"20220404","end":"20220410"},"202216":{"year":2022,"month":4,"week":16,"days":["20220411","20220412","20220413","20220414","20220415","20220416","20220417"],"start":"20220411","end":"20220417"},"202217":{"year":2022,"month":4,"week":17,"days":["20220418","20220419","20220420","20220421","20220422","20220423","20220424"],"start":"20220418","end":"20220424"},"202218":{"year":2022,"month":4,"week":18,"days":["20220425","20220426","20220427","20220428","20220429","20220430","20220501"],"start":"20220425","end":"20220501"},"202219":{"year":2022,"month":5,"week":19,"days":["20220502","20220503","20220504","20220505","20220506","20220507","20220508"],"start":"20220502","end":"20220508"},"202220":{"year":2022,"month":5,"week":20,"days":["20220509","20220510","20220511","20220512","20220513","20220514","20220515"],"start":"20220509","end":"20220515"},"202221":{"year":2022,"month":5,"week":21,"days":["20220516","20220517","20220518","20220519","20220520","20220521","20220522"],"start":"20220516","end":"20220522"},"202222":{"year":2022,"month":5,"week":22,"days":["20220523","20220524","20220525","20220526","20220527","20220528","20220529"],"start":"20220523","end":"20220529"},"202223":{"year":2022,"month":5,"week":23,"days":["20220530","20220531","20220601","20220602","20220603","20220604","20220605"],"start":"20220530","end":"20220605"},"202224":{"year":2022,"month":6,"week":24,"days":["20220606","20220607","20220608","20220609","20220610","20220611","20220612"],"start":"20220606","end":"20220612"},"202225":{"year":2022,"month":6,"week":25,"days":["20220613","20220614","20220615","20220616","20220617","20220618","20220619"],"start":"20220613","end":"20220619"},"202226":{"year":2022,"month":6,"week":26,"days":["20220620","20220621","20220622","20220623","20220624","20220625","20220626"],"start":"20220620","end":"20220626"},"202227":{"year":2022,"month":6,"week":27,"days":["20220627","20220628","20220629","20220630","20220701","20220702","20220703"],"start":"20220627","end":"20220703"},"202228":{"year":2022,"month":7,"week":28,"days":["20220704","20220705","20220706","20220707","20220708","20220709","20220710"],"start":"20220704","end":"20220710"},"202229":{"year":2022,"month":7,"week":29,"days":["20220711","20220712","20220713","20220714","20220715","20220716","20220717"],"start":"20220711","end":"20220717"},"202230":{"year":2022,"month":7,"week":30,"days":["20220718","20220719","20220720","20220721","20220722","20220723","20220724"],"start":"20220718","end":"20220724"},"202231":{"year":2022,"month":7,"week":31,"days":["20220725","20220726","20220727","20220728","20220729","20220730","20220731"],"start":"20220725","end":"20220731"},"202232":{"year":2022,"month":8,"week":32,"days":["20220801","20220802","20220803","20220804","20220805","20220806","20220807"],"start":"20220801","end":"20220807"},"202233":{"year":2022,"month":8,"week":33,"days":["20220808","20220809","20220810","20220811","20220812","20220813","20220814"],"start":"20220808","end":"20220814"},"202234":{"year":2022,"month":8,"week":34,"days":["20220815","20220816","20220817","20220818","20220819","20220820","20220821"],"start":"20220815","end":"20220821"},"202235":{"year":2022,"month":8,"week":35,"days":["20220822","20220823","20220824","20220825","20220826","20220827","20220828"],"start":"20220822","end":"20220828"},"202236":{"year":2022,"month":8,"week":36,"days":["20220829","20220830","20220831","20220901","20220902","20220903","20220904"],"start":"20220829","end":"20220904"},"202237":{"year":2022,"month":9,"week":37,"days":["20220905","20220906","20220907","20220908","20220909","20220910","20220911"],"start":"20220905","end":"20220911"},"202238":{"year":2022,"month":9,"week":38,"days":["20220912","20220913","20220914","20220915","20220916","20220917","20220918"],"start":"20220912","end":"20220918"},"202239":{"year":2022,"month":9,"week":39,"days":["20220919","20220920","20220921","20220922","20220923","20220924","20220925"],"start":"20220919","end":"20220925"},"202240":{"year":2022,"month":9,"week":40,"days":["20220926","20220927","20220928","20220929","20220930","20221001","20221002"],"start":"20220926","end":"20221002"},"202241":{"year":2022,"month":10,"week":41,"days":["20221003","20221004","20221005","20221006","20221007","20221008","20221009"],"start":"20221003","end":"20221009"},"202242":{"year":2022,"month":10,"week":42,"days":["20221010","20221011","20221012","20221013","20221014","20221015","20221016"],"start":"20221010","end":"20221016"},"202243":{"year":2022,"month":10,"week":43,"days":["20221017","20221018","20221019","20221020","20221021","20221022","20221023"],"start":"20221017","end":"20221023"},"202244":{"year":2022,"month":10,"week":44,"days":["20221024","20221025","20221026","20221027","20221028","20221029","20221030"],"start":"20221024","end":"20221030"},"202245":{"year":2022,"month":10,"week":45,"days":["20221031","20221101","20221102","20221103","20221104","20221105","20221106"],"start":"20221031","end":"20221106"},"202246":{"year":2022,"month":11,"week":46,"days":["20221107","20221108","20221109","20221110","20221111","20221112","20221113"],"start":"20221107","end":"20221113"},"202247":{"year":2022,"month":11,"week":47,"days":["20221114","20221115","20221116","20221117","20221118","20221119","20221120"],"start":"20221114","end":"20221120"},"202248":{"year":2022,"month":11,"week":48,"days":["20221121","20221122","20221123","20221124","20221125","20221126","20221127"],"start":"20221121","end":"20221127"},"202249":{"year":2022,"month":11,"week":49,"days":["20221128","20221129","20221130","20221201","20221202","20221203","20221204"],"start":"20221128","end":"20221204"},"202250":{"year":2022,"month":12,"week":50,"days":["20221205","20221206","20221207","20221208","20221209","20221210","20221211"],"start":"20221205","end":"20221211"},"202251":{"year":2022,"month":12,"week":51,"days":["20221212","20221213","20221214","20221215","20221216","20221217","20221218"],"start":"20221212","end":"20221218"},"202252":{"year":2022,"month":12,"week":52,"days":["20221219","20221220","20221221","20221222","20221223","20221224","20221225"],"start":"20221219","end":"20221225"},"202253":{"year":2022,"month":12,"week":53,"days":["20221226","20221227","20221228","20221229","20221230","20221231","20230101"],"start":"20221226","end":"20230101"}},"2023":{"202302":{"year":2023,"month":1,"week":2,"days":["20230102","20230103","20230104","20230105","20230106","20230107","20230108"],"start":"20230102","end":"20230108"},"202303":{"year":2023,"month":1,"week":3,"days":["20230109","20230110","20230111","20230112","20230113","20230114","20230115"],"start":"20230109","end":"20230115"},"202304":{"year":2023,"month":1,"week":4,"days":["20230116","20230117","20230118","20230119","20230120","20230121","20230122"],"start":"20230116","end":"20230122"},"202305":{"year":2023,"month":1,"week":5,"days":["20230123","20230124","20230125","20230126","20230127","20230128","20230129"],"start":"20230123","end":"20230129"},"202306":{"year":2023,"month":1,"week":6,"days":["20230130","20230131","20230201","20230202","20230203","20230204","20230205"],"start":"20230130","end":"20230205"},"202307":{"year":2023,"month":2,"week":7,"days":["20230206","20230207","20230208","20230209","20230210","20230211","20230212"],"start":"20230206","end":"20230212"},"202308":{"year":2023,"month":2,"week":8,"days":["20230213","20230214","20230215","20230216","20230217","20230218","20230219"],"start":"20230213","end":"20230219"},"202309":{"year":2023,"month":2,"week":9,"days":["20230220","20230221","20230222","20230223","20230224","20230225","20230226"],"start":"20230220","end":"20230226"},"202310":{"year":2023,"month":2,"week":10,"days":["20230227","20230228","20230301","20230302","20230303","20230304","20230305"],"start":"20230227","end":"20230305"},"202311":{"year":2023,"month":3,"week":11,"days":["20230306","20230307","20230308","20230309","20230310","20230311","20230312"],"start":"20230306","end":"20230312"},"202312":{"year":2023,"month":3,"week":12,"days":["20230313","20230314","20230315","20230316","20230317","20230318","20230319"],"start":"20230313","end":"20230319"},"202313":{"year":2023,"month":3,"week":13,"days":["20230320","20230321","20230322","20230323","20230324","20230325","20230326"],"start":"20230320","end":"20230326"},"202314":{"year":2023,"month":3,"week":14,"days":["20230327","20230328","20230329","20230330","20230331","20230401","20230402"],"start":"20230327","end":"20230402"},"202315":{"year":2023,"month":4,"week":15,"days":["20230403","20230404","20230405","20230406","20230407","20230408","20230409"],"start":"20230403","end":"20230409"},"202316":{"year":2023,"month":4,"week":16,"days":["20230410","20230411","20230412","20230413","20230414","20230415","20230416"],"start":"20230410","end":"20230416"},"202317":{"year":2023,"month":4,"week":17,"days":["20230417","20230418","20230419","20230420","20230421","20230422","20230423"],"start":"20230417","end":"20230423"},"202318":{"year":2023,"month":4,"week":18,"days":["20230424","20230425","20230426","20230427","20230428","20230429","20230430"],"start":"20230424","end":"20230430"},"202319":{"year":2023,"month":5,"week":19,"days":["20230501","20230502","20230503","20230504","20230505","20230506","20230507"],"start":"20230501","end":"20230507"},"202320":{"year":2023,"month":5,"week":20,"days":["20230508","20230509","20230510","20230511","20230512","20230513","20230514"],"start":"20230508","end":"20230514"},"202321":{"year":2023,"month":5,"week":21,"days":["20230515","20230516","20230517","20230518","20230519","20230520","20230521"],"start":"20230515","end":"20230521"},"202322":{"year":2023,"month":5,"week":22,"days":["20230522","20230523","20230524","20230525","20230526","20230527","20230528"],"start":"20230522","end":"20230528"},"202323":{"year":2023,"month":5,"week":23,"days":["20230529","20230530","20230531","20230601","20230602","20230603","20230604"],"start":"20230529","end":"20230604"},"202324":{"year":2023,"month":6,"week":24,"days":["20230605","20230606","20230607","20230608","20230609","20230610","20230611"],"start":"20230605","end":"20230611"},"202325":{"year":2023,"month":6,"week":25,"days":["20230612","20230613","20230614","20230615","20230616","20230617","20230618"],"start":"20230612","end":"20230618"},"202326":{"year":2023,"month":6,"week":26,"days":["20230619","20230620","20230621","20230622","20230623","20230624","20230625"],"start":"20230619","end":"20230625"},"202327":{"year":2023,"month":6,"week":27,"days":["20230626","20230627","20230628","20230629","20230630","20230701","20230702"],"start":"20230626","end":"20230702"},"202328":{"year":2023,"month":7,"week":28,"days":["20230703","20230704","20230705","20230706","20230707","20230708","20230709"],"start":"20230703","end":"20230709"},"202329":{"year":2023,"month":7,"week":29,"days":["20230710","20230711","20230712","20230713","20230714","20230715","20230716"],"start":"20230710","end":"20230716"},"202330":{"year":2023,"month":7,"week":30,"days":["20230717","20230718","20230719","20230720","20230721","20230722","20230723"],"start":"20230717","end":"20230723"},"202331":{"year":2023,"month":7,"week":31,"days":["20230724","20230725","20230726","20230727","20230728","20230729","20230730"],"start":"20230724","end":"20230730"},"202332":{"year":2023,"month":7,"week":32,"days":["20230731","20230801","20230802","20230803","20230804","20230805","20230806"],"start":"20230731","end":"20230806"},"202333":{"year":2023,"month":8,"week":33,"days":["20230807","20230808","20230809","20230810","20230811","20230812","20230813"],"start":"20230807","end":"20230813"},"202334":{"year":2023,"month":8,"week":34,"days":["20230814","20230815","20230816","20230817","20230818","20230819","20230820"],"start":"20230814","end":"20230820"},"202335":{"year":2023,"month":8,"week":35,"days":["20230821","20230822","20230823","20230824","20230825","20230826","20230827"],"start":"20230821","end":"20230827"},"202336":{"year":2023,"month":8,"week":36,"days":["20230828","20230829","20230830","20230831","20230901","20230902","20230903"],"start":"20230828","end":"20230903"},"202337":{"year":2023,"month":9,"week":37,"days":["20230904","20230905","20230906","20230907","20230908","20230909","20230910"],"start":"20230904","end":"20230910"},"202338":{"year":2023,"month":9,"week":38,"days":["20230911","20230912","20230913","20230914","20230915","20230916","20230917"],"start":"20230911","end":"20230917"},"202339":{"year":2023,"month":9,"week":39,"days":["20230918","20230919","20230920","20230921","20230922","20230923","20230924"],"start":"20230918","end":"20230924"},"202340":{"year":2023,"month":9,"week":40,"days":["20230925","20230926","20230927","20230928","20230929","20230930","20231001"],"start":"20230925","end":"20231001"},"202341":{"year":2023,"month":10,"week":41,"days":["20231002","20231003","20231004","20231005","20231006","20231007","20231008"],"start":"20231002","end":"20231008"},"202342":{"year":2023,"month":10,"week":42,"days":["20231009","20231010","20231011","20231012","20231013","20231014","20231015"],"start":"20231009","end":"20231015"},"202343":{"year":2023,"month":10,"week":43,"days":["20231016","20231017","20231018","20231019","20231020","20231021","20231022"],"start":"20231016","end":"20231022"},"202344":{"year":2023,"month":10,"week":44,"days":["20231023","20231024","20231025","20231026","20231027","20231028","20231029"],"start":"20231023","end":"20231029"},"202345":{"year":2023,"month":10,"week":45,"days":["20231030","20231031","20231101","20231102","20231103","20231104","20231105"],"start":"20231030","end":"20231105"},"202346":{"year":2023,"month":11,"week":46,"days":["20231106","20231107","20231108","20231109","20231110","20231111","20231112"],"start":"20231106","end":"20231112"},"202347":{"year":2023,"month":11,"week":47,"days":["20231113","20231114","20231115","20231116","20231117","20231118","20231119"],"start":"20231113","end":"20231119"},"202348":{"year":2023,"month":11,"week":48,"days":["20231120","20231121","20231122","20231123","20231124","20231125","20231126"],"start":"20231120","end":"20231126"},"202349":{"year":2023,"month":11,"week":49,"days":["20231127","20231128","20231129","20231130","20231201","20231202","20231203"],"start":"20231127","end":"20231203"},"202350":{"year":2023,"month":12,"week":50,"days":["20231204","20231205","20231206","20231207","20231208","20231209","20231210"],"start":"20231204","end":"20231210"},"202351":{"year":2023,"month":12,"week":51,"days":["20231211","20231212","20231213","20231214","20231215","20231216","20231217"],"start":"20231211","end":"20231217"},"202352":{"year":2023,"month":12,"week":52,"days":["20231218","20231219","20231220","20231221","20231222","20231223","20231224"],"start":"20231218","end":"20231224"},"202353":{"year":2023,"month":12,"week":53,"days":["20231225","20231226","20231227","20231228","20231229","20231230","20231231"],"start":"20231225","end":"20231231"}},"2024":{"202401":{"year":2024,"month":1,"week":1,"days":["20240101","20240102","20240103","20240104","20240105","20240106","20240107"],"start":"20240101","end":"20240107"},"202402":{"year":2024,"month":1,"week":2,"days":["20240108","20240109","20240110","20240111","20240112","20240113","20240114"],"start":"20240108","end":"20240114"},"202403":{"year":2024,"month":1,"week":3,"days":["20240115","20240116","20240117","20240118","20240119","20240120","20240121"],"start":"20240115","end":"20240121"},"202404":{"year":2024,"month":1,"week":4,"days":["20240122","20240123","20240124","20240125","20240126","20240127","20240128"],"start":"20240122","end":"20240128"},"202405":{"year":2024,"month":1,"week":5,"days":["20240129","20240130","20240131","20240201","20240202","20240203","20240204"],"start":"20240129","end":"20240204"},"202406":{"year":2024,"month":2,"week":6,"days":["20240205","20240206","20240207","20240208","20240209","20240210","20240211"],"start":"20240205","end":"20240211"},"202407":{"year":2024,"month":2,"week":7,"days":["20240212","20240213","20240214","20240215","20240216","20240217","20240218"],"start":"20240212","end":"20240218"},"202408":{"year":2024,"month":2,"week":8,"days":["20240219","20240220","20240221","20240222","20240223","20240224","20240225"],"start":"20240219","end":"20240225"},"202409":{"year":2024,"month":2,"week":9,"days":["20240226","20240227","20240228","20240229","20240301","20240302","20240303"],"start":"20240226","end":"20240303"},"202410":{"year":2024,"month":3,"week":10,"days":["20240304","20240305","20240306","20240307","20240308","20240309","20240310"],"start":"20240304","end":"20240310"},"202411":{"year":2024,"month":3,"week":11,"days":["20240311","20240312","20240313","20240314","20240315","20240316","20240317"],"start":"20240311","end":"20240317"},"202412":{"year":2024,"month":3,"week":12,"days":["20240318","20240319","20240320","20240321","20240322","20240323","20240324"],"start":"20240318","end":"20240324"},"202413":{"year":2024,"month":3,"week":13,"days":["20240325","20240326","20240327","20240328","20240329","20240330","20240331"],"start":"20240325","end":"20240331"},"202414":{"year":2024,"month":4,"week":14,"days":["20240401","20240402","20240403","20240404","20240405","20240406","20240407"],"start":"20240401","end":"20240407"},"202415":{"year":2024,"month":4,"week":15,"days":["20240408","20240409","20240410","20240411","20240412","20240413","20240414"],"start":"20240408","end":"20240414"},"202416":{"year":2024,"month":4,"week":16,"days":["20240415","20240416","20240417","20240418","20240419","20240420","20240421"],"start":"20240415","end":"20240421"},"202417":{"year":2024,"month":4,"week":17,"days":["20240422","20240423","20240424","20240425","20240426","20240427","20240428"],"start":"20240422","end":"20240428"},"202418":{"year":2024,"month":4,"week":18,"days":["20240429","20240430","20240501","20240502","20240503","20240504","20240505"],"start":"20240429","end":"20240505"},"202419":{"year":2024,"month":5,"week":19,"days":["20240506","20240507","20240508","20240509","20240510","20240511","20240512"],"start":"20240506","end":"20240512"},"202420":{"year":2024,"month":5,"week":20,"days":["20240513","20240514","20240515","20240516","20240517","20240518","20240519"],"start":"20240513","end":"20240519"},"202421":{"year":2024,"month":5,"week":21,"days":["20240520","20240521","20240522","20240523","20240524","20240525","20240526"],"start":"20240520","end":"20240526"},"202422":{"year":2024,"month":5,"week":22,"days":["20240527","20240528","20240529","20240530","20240531","20240601","20240602"],"start":"20240527","end":"20240602"},"202423":{"year":2024,"month":6,"week":23,"days":["20240603","20240604","20240605","20240606","20240607","20240608","20240609"],"start":"20240603","end":"20240609"},"202424":{"year":2024,"month":6,"week":24,"days":["20240610","20240611","20240612","20240613","20240614","20240615","20240616"],"start":"20240610","end":"20240616"},"202425":{"year":2024,"month":6,"week":25,"days":["20240617","20240618","20240619","20240620","20240621","20240622","20240623"],"start":"20240617","end":"20240623"},"202426":{"year":2024,"month":6,"week":26,"days":["20240624","20240625","20240626","20240627","20240628","20240629","20240630"],"start":"20240624","end":"20240630"},"202427":{"year":2024,"month":7,"week":27,"days":["20240701","20240702","20240703","20240704","20240705","20240706","20240707"],"start":"20240701","end":"20240707"},"202428":{"year":2024,"month":7,"week":28,"days":["20240708","20240709","20240710","20240711","20240712","20240713","20240714"],"start":"20240708","end":"20240714"},"202429":{"year":2024,"month":7,"week":29,"days":["20240715","20240716","20240717","20240718","20240719","20240720","20240721"],"start":"20240715","end":"20240721"},"202430":{"year":2024,"month":7,"week":30,"days":["20240722","20240723","20240724","20240725","20240726","20240727","20240728"],"start":"20240722","end":"20240728"},"202431":{"year":2024,"month":7,"week":31,"days":["20240729","20240730","20240731","20240801","20240802","20240803","20240804"],"start":"20240729","end":"20240804"},"202432":{"year":2024,"month":8,"week":32,"days":["20240805","20240806","20240807","20240808","20240809","20240810","20240811"],"start":"20240805","end":"20240811"},"202433":{"year":2024,"month":8,"week":33,"days":["20240812","20240813","20240814","20240815","20240816","20240817","20240818"],"start":"20240812","end":"20240818"},"202434":{"year":2024,"month":8,"week":34,"days":["20240819","20240820","20240821","20240822","20240823","20240824","20240825"],"start":"20240819","end":"20240825"},"202435":{"year":2024,"month":8,"week":35,"days":["20240826","20240827","20240828","20240829","20240830","20240831","20240901"],"start":"20240826","end":"20240901"},"202436":{"year":2024,"month":9,"week":36,"days":["20240902","20240903","20240904","20240905","20240906","20240907","20240908"],"start":"20240902","end":"20240908"},"202437":{"year":2024,"month":9,"week":37,"days":["20240909","20240910","20240911","20240912","20240913","20240914","20240915"],"start":"20240909","end":"20240915"},"202438":{"year":2024,"month":9,"week":38,"days":["20240916","20240917","20240918","20240919","20240920","20240921","20240922"],"start":"20240916","end":"20240922"},"202439":{"year":2024,"month":9,"week":39,"days":["20240923","20240924","20240925","20240926","20240927","20240928","20240929"],"start":"20240923","end":"20240929"},"202440":{"year":2024,"month":9,"week":40,"days":["20240930","20241001","20241002","20241003","20241004","20241005","20241006"],"start":"20240930","end":"20241006"},"202441":{"year":2024,"month":10,"week":41,"days":["20241007","20241008","20241009","20241010","20241011","20241012","20241013"],"start":"20241007","end":"20241013"},"202442":{"year":2024,"month":10,"week":42,"days":["20241014","20241015","20241016","20241017","20241018","20241019","20241020"],"start":"20241014","end":"20241020"},"202443":{"year":2024,"month":10,"week":43,"days":["20241021","20241022","20241023","20241024","20241025","20241026","20241027"],"start":"20241021","end":"20241027"},"202444":{"year":2024,"month":10,"week":44,"days":["20241028","20241029","20241030","20241031","20241101","20241102","20241103"],"start":"20241028","end":"20241103"},"202445":{"year":2024,"month":11,"week":45,"days":["20241104","20241105","20241106","20241107","20241108","20241109","20241110"],"start":"20241104","end":"20241110"},"202446":{"year":2024,"month":11,"week":46,"days":["20241111","20241112","20241113","20241114","20241115","20241116","20241117"],"start":"20241111","end":"20241117"},"202447":{"year":2024,"month":11,"week":47,"days":["20241118","20241119","20241120","20241121","20241122","20241123","20241124"],"start":"20241118","end":"20241124"},"202448":{"year":2024,"month":11,"week":48,"days":["20241125","20241126","20241127","20241128","20241129","20241130","20241201"],"start":"20241125","end":"20241201"},"202449":{"year":2024,"month":12,"week":49,"days":["20241202","20241203","20241204","20241205","20241206","20241207","20241208"],"start":"20241202","end":"20241208"},"202450":{"year":2024,"month":12,"week":50,"days":["20241209","20241210","20241211","20241212","20241213","20241214","20241215"],"start":"20241209","end":"20241215"},"202451":{"year":2024,"month":12,"week":51,"days":["20241216","20241217","20241218","20241219","20241220","20241221","20241222"],"start":"20241216","end":"20241222"},"202452":{"year":2024,"month":12,"week":52,"days":["20241223","20241224","20241225","20241226","20241227","20241228","20241229"],"start":"20241223","end":"20241229"},"202453":{"year":2024,"month":12,"week":53,"days":["20241230","20241231","20250101","20250102","20250103","20250104","20250105"],"start":"20241230","end":"20250105"}},"2025":{"202502":{"year":2025,"month":1,"week":2,"days":["20250106","20250107","20250108","20250109","20250110","20250111","20250112"],"start":"20250106","end":"20250112"},"202503":{"year":2025,"month":1,"week":3,"days":["20250113","20250114","20250115","20250116","20250117","20250118","20250119"],"start":"20250113","end":"20250119"},"202504":{"year":2025,"month":1,"week":4,"days":["20250120","20250121","20250122","20250123","20250124","20250125","20250126"],"start":"20250120","end":"20250126"},"202505":{"year":2025,"month":1,"week":5,"days":["20250127","20250128","20250129","20250130","20250131","20250201","20250202"],"start":"20250127","end":"20250202"},"202506":{"year":2025,"month":2,"week":6,"days":["20250203","20250204","20250205","20250206","20250207","20250208","20250209"],"start":"20250203","end":"20250209"},"202507":{"year":2025,"month":2,"week":7,"days":["20250210","20250211","20250212","20250213","20250214","20250215","20250216"],"start":"20250210","end":"20250216"},"202508":{"year":2025,"month":2,"week":8,"days":["20250217","20250218","20250219","20250220","20250221","20250222","20250223"],"start":"20250217","end":"20250223"},"202509":{"year":2025,"month":2,"week":9,"days":["20250224","20250225","20250226","20250227","20250228","20250301","20250302"],"start":"20250224","end":"20250302"},"202510":{"year":2025,"month":3,"week":10,"days":["20250303","20250304","20250305","20250306","20250307","20250308","20250309"],"start":"20250303","end":"20250309"},"202511":{"year":2025,"month":3,"week":11,"days":["20250310","20250311","20250312","20250313","20250314","20250315","20250316"],"start":"20250310","end":"20250316"},"202512":{"year":2025,"month":3,"week":12,"days":["20250317","20250318","20250319","20250320","20250321","20250322","20250323"],"start":"20250317","end":"20250323"},"202513":{"year":2025,"month":3,"week":13,"days":["20250324","20250325","20250326","20250327","20250328","20250329","20250330"],"start":"20250324","end":"20250330"},"202514":{"year":2025,"month":3,"week":14,"days":["20250331","20250401","20250402","20250403","20250404","20250405","20250406"],"start":"20250331","end":"20250406"},"202515":{"year":2025,"month":4,"week":15,"days":["20250407","20250408","20250409","20250410","20250411","20250412","20250413"],"start":"20250407","end":"20250413"},"202516":{"year":2025,"month":4,"week":16,"days":["20250414","20250415","20250416","20250417","20250418","20250419","20250420"],"start":"20250414","end":"20250420"},"202517":{"year":2025,"month":4,"week":17,"days":["20250421","20250422","20250423","20250424","20250425","20250426","20250427"],"start":"20250421","end":"20250427"},"202518":{"year":2025,"month":4,"week":18,"days":["20250428","20250429","20250430","20250501","20250502","20250503","20250504"],"start":"20250428","end":"20250504"},"202519":{"year":2025,"month":5,"week":19,"days":["20250505","20250506","20250507","20250508","20250509","20250510","20250511"],"start":"20250505","end":"20250511"},"202520":{"year":2025,"month":5,"week":20,"days":["20250512","20250513","20250514","20250515","20250516","20250517","20250518"],"start":"20250512","end":"20250518"},"202521":{"year":2025,"month":5,"week":21,"days":["20250519","20250520","20250521","20250522","20250523","20250524","20250525"],"start":"20250519","end":"20250525"},"202522":{"year":2025,"month":5,"week":22,"days":["20250526","20250527","20250528","20250529","20250530","20250531","20250601"],"start":"20250526","end":"20250601"},"202523":{"year":2025,"month":6,"week":23,"days":["20250602","20250603","20250604","20250605","20250606","20250607","20250608"],"start":"20250602","end":"20250608"},"202524":{"year":2025,"month":6,"week":24,"days":["20250609","20250610","20250611","20250612","20250613","20250614","20250615"],"start":"20250609","end":"20250615"},"202525":{"year":2025,"month":6,"week":25,"days":["20250616","20250617","20250618","20250619","20250620","20250621","20250622"],"start":"20250616","end":"20250622"},"202526":{"year":2025,"month":6,"week":26,"days":["20250623","20250624","20250625","20250626","20250627","20250628","20250629"],"start":"20250623","end":"20250629"},"202527":{"year":2025,"month":6,"week":27,"days":["20250630","20250701","20250702","20250703","20250704","20250705","20250706"],"start":"20250630","end":"20250706"},"202528":{"year":2025,"month":7,"week":28,"days":["20250707","20250708","20250709","20250710","20250711","20250712","20250713"],"start":"20250707","end":"20250713"},"202529":{"year":2025,"month":7,"week":29,"days":["20250714","20250715","20250716","20250717","20250718","20250719","20250720"],"start":"20250714","end":"20250720"},"202530":{"year":2025,"month":7,"week":30,"days":["20250721","20250722","20250723","20250724","20250725","20250726","20250727"],"start":"20250721","end":"20250727"},"202531":{"year":2025,"month":7,"week":31,"days":["20250728","20250729","20250730","20250731","20250801","20250802","20250803"],"start":"20250728","end":"20250803"},"202532":{"year":2025,"month":8,"week":32,"days":["20250804","20250805","20250806","20250807","20250808","20250809","20250810"],"start":"20250804","end":"20250810"},"202533":{"year":2025,"month":8,"week":33,"days":["20250811","20250812","20250813","20250814","20250815","20250816","20250817"],"start":"20250811","end":"20250817"},"202534":{"year":2025,"month":8,"week":34,"days":["20250818","20250819","20250820","20250821","20250822","20250823","20250824"],"start":"20250818","end":"20250824"},"202535":{"year":2025,"month":8,"week":35,"days":["20250825","20250826","20250827","20250828","20250829","20250830","20250831"],"start":"20250825","end":"20250831"},"202536":{"year":2025,"month":9,"week":36,"days":["20250901","20250902","20250903","20250904","20250905","20250906","20250907"],"start":"20250901","end":"20250907"},"202537":{"year":2025,"month":9,"week":37,"days":["20250908","20250909","20250910","20250911","20250912","20250913","20250914"],"start":"20250908","end":"20250914"},"202538":{"year":2025,"month":9,"week":38,"days":["20250915","20250916","20250917","20250918","20250919","20250920","20250921"],"start":"20250915","end":"20250921"},"202539":{"year":2025,"month":9,"week":39,"days":["20250922","20250923","20250924","20250925","20250926","20250927","20250928"],"start":"20250922","end":"20250928"},"202540":{"year":2025,"month":9,"week":40,"days":["20250929","20250930","20251001","20251002","20251003","20251004","20251005"],"start":"20250929","end":"20251005"},"202541":{"year":2025,"month":10,"week":41,"days":["20251006","20251007","20251008","20251009","20251010","20251011","20251012"],"start":"20251006","end":"20251012"},"202542":{"year":2025,"month":10,"week":42,"days":["20251013","20251014","20251015","20251016","20251017","20251018","20251019"],"start":"20251013","end":"20251019"},"202543":{"year":2025,"month":10,"week":43,"days":["20251020","20251021","20251022","20251023","20251024","20251025","20251026"],"start":"20251020","end":"20251026"},"202544":{"year":2025,"month":10,"week":44,"days":["20251027","20251028","20251029","20251030","20251031","20251101","20251102"],"start":"20251027","end":"20251102"},"202545":{"year":2025,"month":11,"week":45,"days":["20251103","20251104","20251105","20251106","20251107","20251108","20251109"],"start":"20251103","end":"20251109"},"202546":{"year":2025,"month":11,"week":46,"days":["20251110","20251111","20251112","20251113","20251114","20251115","20251116"],"start":"20251110","end":"20251116"},"202547":{"year":2025,"month":11,"week":47,"days":["20251117","20251118","20251119","20251120","20251121","20251122","20251123"],"start":"20251117","end":"20251123"},"202548":{"year":2025,"month":11,"week":48,"days":["20251124","20251125","20251126","20251127","20251128","20251129","20251130"],"start":"20251124","end":"20251130"},"202549":{"year":2025,"month":12,"week":49,"days":["20251201","20251202","20251203","20251204","20251205","20251206","20251207"],"start":"20251201","end":"20251207"},"202550":{"year":2025,"month":12,"week":50,"days":["20251208","20251209","20251210","20251211","20251212","20251213","20251214"],"start":"20251208","end":"20251214"},"202551":{"year":2025,"month":12,"week":51,"days":["20251215","20251216","20251217","20251218","20251219","20251220","20251221"],"start":"20251215","end":"20251221"},"202552":{"year":2025,"month":12,"week":52,"days":["20251222","20251223","20251224","20251225","20251226","20251227","20251228"],"start":"20251222","end":"20251228"},"202553":{"year":2025,"month":12,"week":53,"days":["20251229","20251230","20251231","20260101","20260102","20260103","20260104"],"start":"20251229","end":"20260104"}}};

//----------------------------------------------------------------------------------------------------;

//	DATABASE;

//----------------------------------------------------------------------------------------------------;

var _db$daily_master = db.getSiblingDB( "daily_master_h5" );
var _db$graph_data = db.getSiblingDB( "graph_data" );
var _db$brand = db.getSiblingDB( "brand" );
var _db$product = db.getSiblingDB( "product" );


//----------------------------------------------------------------------------------------------------;

//	COLLECTION;

//----------------------------------------------------------------------------------------------------;

var _col$daily_master = _db$daily_master.getCollection( "daily_master" );
var _col$daily_sku_by_shop = _db$graph_data.getCollection( "daily_sku_by_shop" );
var _col$week_top3_sales_amount_by_brand = _db$graph_data.getCollection( "week_top3_sales_amount_by_brand_1" );
var _col$brand_service_taobao = _db$brand.getCollection( "brand_service_taobao" );
var _col$product_basic = _db$product.getCollection( "product_basic" );

//----------------------------------------------------------------------------------------------------;

//	CREATE INDEX;

//----------------------------------------------------------------------------------------------------;

_col$daily_sku_by_shop.createIndex( { 'date_of_value.a' : 1, _id$brand_basic : 1, cd$product_master : 1 } );

//----------------------------------------------------------------------------------------------------;

//	QUERY;

//----------------------------------------------------------------------------------------------------;

var _q0 = {};

//----------------------------------------------------------------------------------------------------;

//	FUNCTION;

//----------------------------------------------------------------------------------------------------;

var getYearWeek = function( _date ) {

    // Copy date so don't modify original
    var d = new Date( Date.UTC( _date.getFullYear(), _date.getMonth(), _date.getDate() ) );

    // Make Sunday's day number 7, Monday to Sunday, 1 ~ 7
    var day = d.getUTCDay() || 7;

    // Set to nearest Thursday: current date + 4 - current day number
    // ex) [Today] + 4 - [Day Of Today: 1 to 7] == [Thursday]
    d.setUTCDate( d.getUTCDate() + 4 - day );

    // Get first day of year
    var yearStart = new Date( Date.UTC( d.getUTCFullYear(), 0, 1 ) );

    // Get Year
    var year = d.getUTCFullYear();

    // Calculate full weeks to nearest Thursday
    var week = Math.ceil( ( ( ( d - yearStart ) / 86400000 ) + 1 ) / 7 );

    // 특수사항 : 첫번째주는 53주로 정의한다. ex) 2018-12-31 과 2018-01-01 은 2018년 53주로 정의
    if ( week === 1 ) {
        if ( d.getDate() < 10 ) {
            year--;
        }
        week = 53;
    }

    return {
        year : year,
        week : week
    };
};

var getDateRangeOfWeek = function( year, weekNo ) {
    var d = new Date();
        d.setFullYear( year );
    var numOfdaysPastSinceLastMonday = eval( d.getDay() - 1 );
        d.setDate( d.getDate() - numOfdaysPastSinceLastMonday );
    var weekNoToday = getYearWeek( d ).week;
    var weeksInTheFuture = eval( weekNo - weekNoToday );
        d.setDate( d.getDate() + eval( 7 * weeksInTheFuture ) );

    // to get start of range
    var year, month, date;
        year = d.getFullYear();
        month = d.getMonth() + 1; month = month > 9 ? month : "0" + month;
        date = d.getDate(); date = date > 9 ? date : "0" + date;
    var range_from = `${year}-${month}-${date}`;

    // to get end of range
        d.setDate( d.getDate() + 6 );
        year = d.getFullYear();
        month = d.getMonth() + 1; month = month > 9 ? month : "0" + month;
        date = d.getDate(); date = date > 9 ? date : "0" + date;
    var range_to = `${year}-${month}-${date}`;

    return { start : range_from, end : range_to };
};

var getYearWeekRange = function( _date ) {
    var date = new Date( _date );
    date.setDate( date.getDate() - 7 ); // 전주를 구함

    var yw = getYearWeek( date );
    var range = getDateRangeOfWeek( yw.year, yw.week );

    return { year : yw.year, week : yw.week, range : range };
};

var dateToFormat = {
	"YYYYMMDD" : function( str  ){

		var yyyy = str.substr(0,4);
		var mm = str.substr(4,2);
		var dd = str.substr(6,2);

		return yyyy + mm + dd
	}
	, "YYYY-MM-DD" : function( str ){

		var yyyy = str.substr(0,4);
		var mm = str.substr(4,2);
		var dd = str.substr(6,2);

		return yyyy + "-" + mm + "-" + dd;
	}
};

var pad = function( data ){
	return data.toString().length > 1 ? data.toString() : "0" + data.toString()
};

var FN = function( data ){

	var now = new Date();

	// Remove Old Data
	_col$week_top3_sales_amount_by_brand.remove({
		date_start : dateToFormat[ "YYYY-MM-DD" ]( data.start )
		, date_end : dateToFormat[ "YYYY-MM-DD" ]( data.end )
	});

	var brand;
	for ( var i=0; len=_brand_list.length, i<len; i++ ) {

		brand = _brand_list[ i ];

		var rank = 1;

		var _q = {
			'date_of_value.a' : {
				$gte : ISODate( data.start + "T00:00:00.000Z")
				, $lte : ISODate( data.end + "T23:59:59.999Z")
			}
			, _id$brand_basic : brand
			, cd$product_master : { $nin : nin_list }
		};

		_col$daily_sku_by_shop.aggregate( [
			{
				$match : _q
			}
			, {
				$group : {
					_id : {
						_id$brand_basic : "$_id$brand_basic"
						, cd$product_master : "$cd$product_master"
					}
					, total_week_sales_quantity  : { $sum : "$daily_sales" }
					, total_week_sales_amount : { $sum : "$daily_amount"}
					, price_history : { $push : { price : "$price", shop_type : "$shop_type", daily_sales : "$daily_sales", voilate_price : "$violate_price" } }

				}
			},
			{
				$sort :  {
					"_id._id$brand_basic" : -1
					, total_week_sales_amount : -1
				}
			}
		], { allowDiskUse : true } ).forEach( function( doc )
		{
			var tmall_price_history = [];
			var taobao_price_history = [];

			var shop_history = {}
			shop_history['淘宝'] =  taobao_price_history;
			shop_history['海外旗舰店'] = shop_history['旗舰店'] = shop_history['天猫'] = tmall_price_history;
			var tmall_violate_price_count = 0;
			var taobao_violate_price_count = 0;
			var violate_price = {};
			violate_price['淘宝'] =  taobao_violate_price_count;
			violate_price['海外旗舰店'] = violate_price['旗舰店'] = violate_price['天猫'] = tmall_violate_price_count ;

			doc.price_history.forEach( function( doc ) {
				shop_history[doc.shop_type].push({ price : doc.price, daily_sales : doc.daily_sales });
				violate_price[doc.shop_type] += doc.violate_price == true ? 1 : 0;
			});

			var model = {
				_id$brand_basic : NumberInt( doc._id._id$brand_basic )
				, cd$product_master : doc._id.cd$product_master
				, year : data.year.toString()
				, week : NumberInt( data.week )
				, date_start : dateToFormat[ "YYYY-MM-DD" ]( data.start )
				, date_end : dateToFormat[ "YYYY-MM-DD" ]( data.end )
				, date_create : now
				, total_week_sales_quantity : NumberInt( doc.total_week_sales_quantity )
				, total_week_sales_amount : doc.total_week_sales_amount == undefined ? 0 : doc.total_week_sales_amount
				, tmall_price_history : tmall_price_history
				, taobao_price_history : taobao_price_history
				, tmall_violate_price_count  : tmall_violate_price_count
				, taobao_violate_price_count  : taobao_violate_price_count
				, rank : NumberInt( rank++ )
			}

			_col$week_top3_sales_amount_by_brand.insertOne( model );
		});
	}
}


var LOOP = function( TARGET_DATE ){

	var year = TARGET_DATE.substr( 0, 4 );

	var weekNo;
	var z,zo;
	for( z in dateWeekinfo[ year ] ){
		zo = dateWeekinfo[ year ][ z ]
		if( zo.days.indexOf( TARGET_DATE ) == -1 ) continue;
		weekNo = z;
	}

	print( year + " - " + TARGET_DATE + " - " + Date() );

	FN ( dateWeekinfo[ year ][ weekNo ] );

};


//----------------------------------------------------------------------------------------------------;

// LOGIC;

//----------------------------------------------------------------------------------------------------;


// Get Brand List
var _brand_list = [];
_col$brand_service_taobao.find( _q0 ).forEach(function( doc ){
	_brand_list.push( doc._id )
});

var nin_list = [""];
_col$product_basic.find({ nm_kr : /팩종합/ }, { cd$product_master : 1 }).forEach( function(doc){
	nin_list.push( doc.cd$product_master );
});

//LOOP( "<!=TARGET_DATE=!>" );
LOOP( "20190501" );
return;