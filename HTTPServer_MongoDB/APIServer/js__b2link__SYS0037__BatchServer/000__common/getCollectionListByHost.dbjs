//----------------------------------------------------------------------------------------------------;
var fileNm = "js__b2link__SYS0037__BatchServer/000__common/getCollectionListByHost.js";
if( TtwLog ) TtwLog.log( "[ S ] - " + fileNm + "----------" );
//----------------------------------------------------------------------------------------------------;

var _NM_DB_ = "<!=nm_db=!>";

//----------------------------------------------------------------------------------------------------;

var db0 = db.getSiblingDB( _NM_DB_ );

//----------------------------------------------------------------------------------------------------;

var r = [];

var colList = db0.getCollectionNames().reverse();
	colList.forEach( function( col ){
		if( col != "_TEMP" )
		{
			r.push({
				nm_col : col
				, count_doc : db0.getCollection( col ).count()
			});
		}
	});

//----------------------------------------------------------------------------------------------------;

return {
	r : 0
	, m : "OK"
	, d : r
};